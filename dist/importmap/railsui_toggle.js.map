{
  "version": 3,
  "sources": ["../../src/railsui_toggle.js"],
  "sourcesContent": ["import { Controller } from '@hotwired/stimulus'\nimport { useTransition } from 'stimulus-use'\n\nexport default class extends Controller {\n  static targets = ['toggleable']\n\n  connect() {\n    useTransition(this, {\n      element: this.toggleableTarget,\n    })\n\n    this._setAria(false)\n    document.addEventListener('keydown', this._onKeydown)\n  }\n\n  disconnect() {\n    document.removeEventListener('keydown', this._onKeydown)\n  }\n\n  toggle(event) {\n    const isOpen = !this.toggleableTarget.classList.contains('hidden')\n    this._setAria(!isOpen, event?.currentTarget)\n    this.toggleTransition()\n  }\n\n  _setAria(expanded, trigger = this.element.querySelector('[data-action*=\"toggle\"]')) {\n    if (trigger) trigger.setAttribute('aria-expanded', expanded)\n    this.toggleableTarget.setAttribute('aria-hidden', (!expanded).toString())\n  }\n\n  _onKeydown = event => {\n    if (event.key === 'Escape') {\n      this.toggleableTarget.classList.contains('hidden') || this.toggle()\n    }\n  }\n}\n"],
  "mappings": ";;;;;;AAAA,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAE9B,MAAO,+BAAsB,WAAW;AAAA,EAAxC;AAAA;AA2BE,sCAAa,WAAS;AACpB,UAAI,MAAM,QAAQ,UAAU;AAC1B,aAAK,iBAAiB,UAAU,SAAS,QAAQ,KAAK,KAAK,OAAO;AAAA,MACpE;AAAA,IACF;AAAA;AAAA,EA5BA,UAAU;AACR,kBAAc,MAAM;AAAA,MAClB,SAAS,KAAK;AAAA,IAChB,CAAC;AAED,SAAK,SAAS,KAAK;AACnB,aAAS,iBAAiB,WAAW,KAAK,UAAU;AAAA,EACtD;AAAA,EAEA,aAAa;AACX,aAAS,oBAAoB,WAAW,KAAK,UAAU;AAAA,EACzD;AAAA,EAEA,OAAO,OAAO;AACZ,UAAM,SAAS,CAAC,KAAK,iBAAiB,UAAU,SAAS,QAAQ;AACjE,SAAK,SAAS,CAAC,QAAQ,OAAO,aAAa;AAC3C,SAAK,iBAAiB;AAAA,EACxB;AAAA,EAEA,SAAS,UAAU,UAAU,KAAK,QAAQ,cAAc,yBAAyB,GAAG;AAClF,QAAI;AAAS,cAAQ,aAAa,iBAAiB,QAAQ;AAC3D,SAAK,iBAAiB,aAAa,gBAAgB,CAAC,UAAU,SAAS,CAAC;AAAA,EAC1E;AAOF;AA/BE,cADK,wBACE,WAAU,CAAC,YAAY;",
  "names": []
}
