{
  "version": 3,
  "sources": ["../../src/railsui_dropdown.js"],
  "sourcesContent": ["import { Controller } from '@hotwired/stimulus'\nimport { useTransition } from 'stimulus-use'\n\nexport default class extends Controller {\n  static targets = ['menu']\n\n  connect() {\n    useTransition(this, { element: this.menuTarget })\n\n    this._trigger = this.element.querySelector('[data-action*=\"toggle\"]')\n    if (this._trigger) {\n      this._trigger.setAttribute('aria-haspopup', 'true')\n      this._trigger.setAttribute('aria-expanded', 'false')\n    }\n\n    this.menuTarget.setAttribute('aria-hidden', 'true')\n\n    document.addEventListener('keydown', this._onKeydown)\n  }\n\n  disconnect() {\n    document.removeEventListener('keydown', this._onKeydown)\n  }\n\n  toggle() {\n    const isOpen = !this.menuTarget.classList.contains('hidden')\n    this.toggleTransition()\n    this._setAria(!isOpen)\n  }\n\n  hide(event) {\n    if (!this.element.contains(event.target)) {\n      this.leave()\n      this._setAria(false)\n    }\n  }\n\n  _onKeydown = event => {\n    if (event.key === 'Escape') {\n      this.leave()\n      this._setAria(false)\n    }\n  }\n\n  _setAria(expanded) {\n    if (this._trigger) this._trigger.setAttribute('aria-expanded', expanded)\n    this.menuTarget.setAttribute('aria-hidden', !expanded)\n  }\n}\n"],
  "mappings": ";;;;;;AAAA,SAAS,kBAAkB;AAC3B,SAAS,qBAAqB;AAE9B,MAAO,iCAAsB,WAAW;AAAA,EAAxC;AAAA;AAkCE,sCAAa,WAAS;AACpB,UAAI,MAAM,QAAQ,UAAU;AAC1B,aAAK,MAAM;AACX,aAAK,SAAS,KAAK;AAAA,MACrB;AAAA,IACF;AAAA;AAAA,EApCA,UAAU;AACR,kBAAc,MAAM,EAAE,SAAS,KAAK,WAAW,CAAC;AAEhD,SAAK,WAAW,KAAK,QAAQ,cAAc,yBAAyB;AACpE,QAAI,KAAK,UAAU;AACjB,WAAK,SAAS,aAAa,iBAAiB,MAAM;AAClD,WAAK,SAAS,aAAa,iBAAiB,OAAO;AAAA,IACrD;AAEA,SAAK,WAAW,aAAa,eAAe,MAAM;AAElD,aAAS,iBAAiB,WAAW,KAAK,UAAU;AAAA,EACtD;AAAA,EAEA,aAAa;AACX,aAAS,oBAAoB,WAAW,KAAK,UAAU;AAAA,EACzD;AAAA,EAEA,SAAS;AACP,UAAM,SAAS,CAAC,KAAK,WAAW,UAAU,SAAS,QAAQ;AAC3D,SAAK,iBAAiB;AACtB,SAAK,SAAS,CAAC,MAAM;AAAA,EACvB;AAAA,EAEA,KAAK,OAAO;AACV,QAAI,CAAC,KAAK,QAAQ,SAAS,MAAM,MAAM,GAAG;AACxC,WAAK,MAAM;AACX,WAAK,SAAS,KAAK;AAAA,IACrB;AAAA,EACF;AAAA,EASA,SAAS,UAAU;AACjB,QAAI,KAAK;AAAU,WAAK,SAAS,aAAa,iBAAiB,QAAQ;AACvE,SAAK,WAAW,aAAa,eAAe,CAAC,QAAQ;AAAA,EACvD;AACF;AA5CE,cADK,0BACE,WAAU,CAAC,MAAM;",
  "names": []
}
