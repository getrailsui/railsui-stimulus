{
  "version": 3,
  "sources": ["../../src/railsui_modal.js"],
  "sourcesContent": ["import { Controller } from '@hotwired/stimulus'\nimport { useTransition, useClickOutside } from 'stimulus-use'\n\nexport default class extends Controller {\n  static targets = ['container', 'content']\n  static values = {\n    teleport: { type: Boolean, default: false },\n  }\n\n  connect() {\n    // Store original parent for cleanup\n    this.originalParent = this.containerTarget.parentNode\n    this.originalNextSibling = this.containerTarget.nextSibling\n\n    // Teleport to body if enabled\n    if (this.teleportValue && this.containerTarget.parentNode !== document.body) {\n      document.body.appendChild(this.containerTarget)\n    }\n\n    useTransition(this, {\n      element: this.contentTarget,\n    })\n\n    useClickOutside(this, {\n      element: this.contentTarget,\n    })\n  }\n\n  open(event) {\n    event.preventDefault()\n    this.enableAppearance()\n    this.toggleTransition()\n  }\n\n  close(event) {\n    event.preventDefault()\n    this.leave()\n    this.disableAppearance()\n  }\n\n  clickOutside(event) {\n    const action = event.target.dataset.action\n    if (action == 'click->modal#open' || action == 'click->modal#open:prevent') {\n      return\n    }\n    this.close(event)\n  }\n\n  closeWithEsc(event) {\n    if (event.keyCode === 27 && !this.containerTarget.classList.contains('hidden')) {\n      this.close(event)\n    }\n  }\n\n  enableAppearance() {\n    this.containerTarget.classList.add('bg-black/80')\n    this.containerTarget.classList.remove('hidden')\n  }\n\n  disableAppearance() {\n    this.containerTarget.classList.add('hidden')\n    this.containerTarget.classList.remove('bg-black/80')\n  }\n\n  disconnect() {\n    this.toggleTransition()\n\n    // Return modal to original position if it was teleported\n    if (this.teleportValue && this.originalParent) {\n      if (this.originalNextSibling) {\n        this.originalParent.insertBefore(this.containerTarget, this.originalNextSibling)\n      } else {\n        this.originalParent.appendChild(this.containerTarget)\n      }\n    }\n  }\n}\n"],
  "mappings": ";;;AAAA,SAAS,kBAAkB;AAC3B,SAAS,eAAe,uBAAuB;AAE/C,MAAO,8BAAsB,WAAW;AAAA,EAMtC,UAAU;AAER,SAAK,iBAAiB,KAAK,gBAAgB;AAC3C,SAAK,sBAAsB,KAAK,gBAAgB;AAGhD,QAAI,KAAK,iBAAiB,KAAK,gBAAgB,eAAe,SAAS,MAAM;AAC3E,eAAS,KAAK,YAAY,KAAK,eAAe;AAAA,IAChD;AAEA,kBAAc,MAAM;AAAA,MAClB,SAAS,KAAK;AAAA,IAChB,CAAC;AAED,oBAAgB,MAAM;AAAA,MACpB,SAAS,KAAK;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EAEA,KAAK,OAAO;AACV,UAAM,eAAe;AACrB,SAAK,iBAAiB;AACtB,SAAK,iBAAiB;AAAA,EACxB;AAAA,EAEA,MAAM,OAAO;AACX,UAAM,eAAe;AACrB,SAAK,MAAM;AACX,SAAK,kBAAkB;AAAA,EACzB;AAAA,EAEA,aAAa,OAAO;AAClB,UAAM,SAAS,MAAM,OAAO,QAAQ;AACpC,QAAI,UAAU,uBAAuB,UAAU,6BAA6B;AAC1E;AAAA,IACF;AACA,SAAK,MAAM,KAAK;AAAA,EAClB;AAAA,EAEA,aAAa,OAAO;AAClB,QAAI,MAAM,YAAY,MAAM,CAAC,KAAK,gBAAgB,UAAU,SAAS,QAAQ,GAAG;AAC9E,WAAK,MAAM,KAAK;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,mBAAmB;AACjB,SAAK,gBAAgB,UAAU,IAAI,aAAa;AAChD,SAAK,gBAAgB,UAAU,OAAO,QAAQ;AAAA,EAChD;AAAA,EAEA,oBAAoB;AAClB,SAAK,gBAAgB,UAAU,IAAI,QAAQ;AAC3C,SAAK,gBAAgB,UAAU,OAAO,aAAa;AAAA,EACrD;AAAA,EAEA,aAAa;AACX,SAAK,iBAAiB;AAGtB,QAAI,KAAK,iBAAiB,KAAK,gBAAgB;AAC7C,UAAI,KAAK,qBAAqB;AAC5B,aAAK,eAAe,aAAa,KAAK,iBAAiB,KAAK,mBAAmB;AAAA,MACjF,OAAO;AACL,aAAK,eAAe,YAAY,KAAK,eAAe;AAAA,MACtD;AAAA,IACF;AAAA,EACF;AACF;AAxEE,cADK,uBACE,WAAU,CAAC,aAAa,SAAS;AACxC,cAFK,uBAEE,UAAS;AAAA,EACd,UAAU,EAAE,MAAM,SAAS,SAAS,MAAM;AAC5C;",
  "names": []
}
